## 前端埋点操作

由于访问印记实现埋点是跨域的请求，所以前端这里用jsonp实现跨域请求。

1. 下载并引入第三方库 jsonp
* npm install jsonp --save
* import originJsonp from 'jsonp'

2. jsonp的实现原理就是动态创建script标签，并且将我们需要请求的路径通过该标签的src来实现，并且将我们要传入的参数拼接在路径后面。

3. jsonp请求的封装
* url：需要请求的接口地址
* option(Object)：jsonp的请求配置，如：timeout设置超时时间、param(String)回调函数名称
* fn：回调函数，用来接受返回的错误或者成功的结果

4. 封装调用印记方法
* 提供三种方法实现印记系统的登录、定时激活session、调用印记接口记录日志
* 将三种方法放在jsonpCMT对象中
1. writeLogLogin 登录印记系统
2. writeLogActive 激活session
3. writeLogToDSInfo 调用印记接口记录日志
4. 上述三种方法只需要传入一个参数params(Object)即可。该参数就是需要记录的状态。

5. 实现埋点
* 在需要埋点的模块中导入模块 import jsonpCMT from '文件路径'
* 在前端应用登录成功以后调用jsonpCMT.writeLogLogin方法，该方法成功以后则成功登录印记系统
* 在登录印记系统成功以后调用jsonpCMT.writeLogActive实现定时激活session
* 在需要实现埋点的地方调用jsonpCMT.writeLogToDSInfo实现日志记录
